<script setup>
import { onMounted } from "vue";
import mapboxgl from "mapbox-gl"; // or "const mapboxgl = require('mapbox-gl');"
import "mapbox-gl/dist/mapbox-gl.css";
import ZoomControl from "@mapbox-controls/zoom";
import "@mapbox-controls/zoom/src/index.css";
import MapboxLanguage from "@mapbox/mapbox-gl-language";
mapboxgl.accessToken =
  "pk.eyJ1IjoiamFrZWpvdWUiLCJhIjoiY2tyZnNlM2d1MG5tMDJ1cW5jaXN2MW02NyJ9.H6m2TZiZaAwet6HXv1TMvQ";

const initMap = () => {
  const map = new mapboxgl.Map({
    container: "map", // container ID
    style: "mapbox://styles/mapbox/streets-v12", // style URL
    center: [114.3055, 30.5928], // starting position [lng, lat]
    zoom: 9,
    projection: "globe",
  });

  map.scrollZoom.enable();

  map.touchZoomRotate.enable();

  map.addControl(
    new MapboxLanguage({
      defaultLanguage: "zh-Hans",
    })
  );

  //   map.addControl(new ZoomControl(), 'top-left');

  map.addControl(new mapboxgl.FullscreenControl());

  map.addControl(new mapboxgl.NavigationControl(), "top-left");

  map.addControl(new mapboxgl.ScaleControl());
};

onMounted(() => {
  initMap();
});
</script>
<template>
  <div id="map"></div>
</template>

<style scoped>
#map {
  height: 100%;
  width: 100%;
}
</style>
